<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Vue.js and Drupal</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/vml.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
     var link = document.createElement( 'link' );
     link.rel = 'stylesheet';
     link.type = 'text/css';
     link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
     document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
	<section>
          <h1>Vue.js and Drupal</h1>
          <p>
            <small><a href="http://www.kedrovsky.com">Karl Kedrovsky</a></small><br>
            <small><a href="http://www.vml.com">VML</a></small><br>
            <small><a href="mailto:karl.kedrovsky@vml.com">karl.kedrovsky@vml.com</a></small><br>
            <small><a href="mailto:karl@kedrovsky.com">karl@kedrovsky.com</a></small><br>
            <small><a href="https://twitter.com/karlkedrovsky">@karlkedrovsky</a></small>
          </p>          
        </section>
	<section>
          <h1>Overview</h1>
          <p>
            <ul>
              <li class="fragment">Why Vue.js</li>
              <li class="fragment">Overview of Vue.js</li>
              <li class="fragment">Drupal Integration</li>
            </ul>
          </p>
        </section>
	<section>
          <h1>Thanks Ryan!</h1>
          <p>
            <img src="images/ryan_brewer_512.jpg" />
          </p>
        </section>
        <section>
          <h1>Why Vue.js</h1>
          <p>
            <ul>
              <li class="fragment">Stands on the shoulders of giants</li>
              <li class="fragment">Shallow learning curve</li>
              <li class="fragment">You can ignore the internals</li>
              <li class="fragment">Component model</li>
              <li class="fragment">Awesome community and adoption within PHP community</li>
            </ul>
          </p>
        </section>
        <section>
          <section>
            <h1>Vue.js</h1>
          </section>
          <section>
            <h2>Data Binding</h2>
            <pre><code>
<div class="row" id="app">
  <div class="medium-6 column">
    <p>
      Message:<br>
      <input type="text" v-model="message" autofocus>
    </p>
  </div>
  <div class="medium-6 column">
    <p>
      Message:<br>
      {{ message }}
    </p>
  </div>
</div>
            </code></pre>
          </section>
          <section>
            <h2>Data Binding</h2>
            <pre><code class="js">
new Vue({
  el: '#app',
  data: {
    message: ''
  }
});
            </code></pre>
          </section>
          <section>
            <h2>Data Binding</h2>
            <p>Demo</p>
            <p><img src="images/scared-face.png" class="plain" height="200px" width="200px" /></p>
          </section>
          <section>
            <h2>Methods</h2>
            <pre><code>
<div class="row" id="app">
  <div class="medium-6 column">
    <p>
      <button class="button" v-on:click="add()">Add</button>
    </p>
  </div>
  <div class="medium-6 column">
    <p>
      Count: {{ count }}
    </p>
  </div>
</div>
            </code></pre>
          </section>
          <section>
            <h2>Methods</h2>
            <pre><code class="js">
new Vue({
  el: '#app',
  data: {
    count: 0
  },
  methods: {
    add: function() {
      this.count++;
    }
  }
});
            </code></pre>
          </section>
          <section>
            <h2>Methods</h2>
            <p>Demo</p>
            <p><img src="images/scared-face.png" class="plain" height="200px" width="200px" /></p>
          </section>
          <section>
            <h2>Components</h2>
            <p>
              <ul>
                <li class="fragment">Extends HTML (new tags)</li>
                <li class="fragment">Encapsulates reusable code</li>
                <li class="fragment">Groups template, Javascript, and styles into one file</li>
              </ul>
            </p>
          </section>
          <section>
            <h2>Components</h2>
            <pre><code>
<div class="row" id="app">
  <div class="medium-6 column">
    <foo></foo>
  </div>
  <div class="medium-6 column">
    <bar></bar>
  </div>
</div>
            </code></pre>
          </section>
          <section>
            <h2>Components</h2>
            <pre><code class="js">
var Foo = Vue.extend({
  template: '<p>The Foo Component</p>'
});
Vue.component('foo', Foo);

var Bar = Vue.extend({
  template: '<p>The Bar Component</p>'
});
Vue.component('bar', Bar);

new Vue({
  el: '#app'
});
            </code></pre>
          </section>
          <section>
            <h2>Components</h2>
            <p>Demo</p>
            <p><img src="images/scared-face.png" class="plain" height="200px" width="200px" /></p>
          </section>
          <section>
            <h2>Child Components</h2>
            <pre><code>
<div class="row" id="app">
  <div class="medium-6 column">
    <foo></foo>
  </div>
  <div class="medium-6 column">
    <bar></bar>
  </div>
</div>
            </code></pre>
          </section>
          <section>
            <h2>Child Components</h2>
            <pre><code class="js">
var SpawnOfFoo = Vue.extend({
  template: '<p>The Spawn Of Foo Component</p>'
});

var Foo = Vue.extend({
  template: '<p>The Foo Component</p><p><spawn-of-foo></spawn-of-foo></p>',
  components: {
    'spawn-of-foo': SpawnOfFoo
  }
});
Vue.component('foo', Foo);

var Bar = Vue.extend({
  template: '<p>The Bar Component</p>'
});
Vue.component('bar', Bar);

new Vue({
  el: '#app'
});
            </code></pre>
          </section>
          <section>
            <h2>Child Components</h2>
            <p>Demo</p>
            <p><img src="images/scared-face.png" class="plain" height="200px" width="200px" /></p>
          </section>
          <section>
            <h2>Single File Components</h2>
            <p>
              <ul>
                <li class="fragment">Groups template, scripts, and styles in a single file</li>
                <li class="fragment">Requires a pre-processor (typically Webpack)</li>
                <li class="fragment">Templates can be HTML or other language like Jade</li>
                <li class="fragment">Scripts can be Javascript, CoffeeScript, etc.</li>
                <li class="fragment">Styles can be CSS, Sass, etc.</li>
              </ul>
          </section>
          <section>
            <h2>Single Components</h2>
            <pre><code lang="js">
<template>
  <h1>Demo Component</h1>
  <p class="red">{{ message }}</p>
</template>
<script>
  export default {
   name: "Demo",
   data() {
     return {
       message: "Woohoo!"
     }
   }
 }
</script>
<style>
 .red {
   color: #ee2222;
 };
</style>
            </code></pre>
          </section> 
          <section>
            <h2>Single Components</h2>
            <pre><code lang="js">
import Vue from 'vue';

import Demo from './components/demo.vue';

new Vue({
  el: '#app',
  components: {
    Demo
  }
});
            </code></pre>
          </section> 
          <section>
            <h2>Single File Components</h2>
            <pre><code class="js">
gulp.task('webpack', function() {
  return gulp.src('js_sfc/sfc.js')
    .pipe(webpack({
      module: {
        loaders: [
          {
            test: /\.js$/,
            exclude: /node_modules/,
            loader: 'babel'
          },
          {
            test: /\.vue$/,
            loader: 'vue'
          }
        ]
      },
      babel: {
        presets: ['es2015'],
        plugins: ['transform-runtime']
      },
      resolve: {
        modulesDirectories: ['node_modules']
      },
      output: {
        filename: 'sfc.js'
      }
    }))
    .pipe(gulp.dest('web/js/'));
});
            </code></pre>
          </section>
          <section>
            <h2>Single File Components</h2>
            <p>Demo</p>
            <p><img src="images/scared-face.png" class="plain" height="200px" width="200px" /></p>
          </section>
          <section>
            <h2>Resources</h2>
            <ul>
              <li class="fragment">Easy ajax calls</li>
            </ul>
          </section>
          <section>
            <h2>Resources</h2>
            <pre><code lang="js">
<template>
  <h2>Pages</h2>
  <p>
    <ul>
      <li v-for="page in pages">
        {{ page.title }}
      </li>
    </ul>
  </p>
</template>
<script>
 export default {
   name: "Pages",
   data() {
     return {
       pages: {}
     }
   },
   ready() {
     Vue.http.get('/api/pages').then((response) => {
       var pages = response.json();
       this.$set('pages', pages);
     }, (response) => {
       console.log('Error');
     });
   }
 }
</script>
            </code></pre>
          </section>
          <section>
            <h2>Resources</h2>
            <p>Demo</p>
            <p><img src="images/scared-face.png" class="plain" height="200px" width="200px" /></p>
	    <aside class="notes">
              <ul>
                <li>Drupal View producing json</li>
                <li>Custom block for the component</li>
                <li>main.js adding the component</li>
              </ul>
	    </aside>
          </section>
          <section>
            <h2>Routing</h2>
          </section>
        </section>
        <section>
          <section>
            <h1>Drupal Integration</h1>
            <ul>
              <li class="fragment">Creating custom component blocks and content items</li>
              <li class="fragment">Using Drupal 8's built in REST API support</li>
            </ul>
          </section>
          <section>
            <h2>Adding Components</h2>
            <ul>
              <li class="fragment">Theming</li>
              <li class="fragment">Custom block type</li>
              <li class="fragment">Custom content type</li>
            </ul>
          </section>
          <section>
            <h2>Theme Setup</h2>
            <p>vue.info.yml</p>
            <pre><code lang="yml">
name: Vue.js and Drupal
type: theme
description: Demo theme for Vue.js and Drupal
base theme: bartik
core: 8.x
libraries:
  - vue/main
            </code></pre>
          </section>
          <section>
            <h2>Theme Setup</h2>
            <p>vue.libraries.yml</p>
            <pre><code lang="yml">
main:
  version: 1.x
  js:
    js/vue.js: {}
    js/main.js: {}
            </code></pre>
          </section>
          <section>
            <h2>Theme Setup</h2>
            <p>gulpfile.js</p>
            <pre><code lang="js">
gulp.task('webpack', function() {
  return gulp.src('src/main.js')
    .pipe(webpack({
      module: {
        loaders: [
          {
            test: /\.js$/,
            exclude: /node_modules/,
            loader: 'babel'
          },
          {
            test: /\.vue$/,
            loader: 'vue'
          }
        ]
      },
      babel: {
        presets: ['es2015'],
        plugins: ['transform-runtime']
      },
      resolve: {
        modulesDirectories: ['node_modules']
      },
      output: {
        filename: 'main.js'
      }
    }))
    .pipe(gulp.dest('js/'));
});
            </code></pre>
          </section>
          <section>
            <h2>Theme Setup</h2>
            <p>Template Files - Block</p>
            <pre><code lang="twig">
{# block--vue-block.html.twig #}
{{ content.field_component_name }}
            </code></pre>
          </section>
          <section>
            <h2>Theme Setup</h2>
            <p>Template Files - Field</p>
            <pre><code lang="twig">
{# field--field-component-name.html.twig #}
{% for item in items %}
<{{ item.content }}></{{ item.content }}>
{% endfor %}
            </code></pre>
          </section>
          <section>
            <h2>Adding Components</h2>
            <p>Demo</p>
            <p><img src="images/scared-face.png" class="plain" height="200px" width="200px" /></p>
	    <aside class="notes">
              <ul>
                <li>Show custom block type and content type</li>
                <li>Show custom theme templates</li>
                <li>Show Vue bit in theme</li>
              </ul>
	    </aside>
          </section>
          <section>
            <h2>Integrating REST Services</h2>
            <ul>
              <li class="fragment">Use Vue Resource library for getting data from Drupal</li>
              <li class="fragment">Events and methods can be used updating data</li>
            </ul>
          </section>
          <section>
            <h2>Integrating REST Services</h2>
            <p>Demo</p>
            <p><img src="images/scared-face.png" class="plain" height="200px" width="200px" /></p>
	    <aside class="notes">
              <ul>
                <li>Show View with restful pages</li>
                <li>Show component that retrieves the data</li>
              </ul>
	    </aside>
          </section>
        </section>
	<section>
          <h1>Tips and Guidelines</h1>
          <p>
            <ul>
              <li class="fragment">Prefer Vue functionality over jQuery, etc.</li>
              <li class="fragment">Use Vue Resource for "ajax" integration</li>
              <li class="fragment">Use Vue Router for "SPA" behavior</li>
              <li class="fragment">Use Vuex for complicated state management</li>
              <li class="fragment">Learn Javascript (es2016)</li>
            </ul>
          </p>
        </section>
        </section>
	<section>
          <h1>Resources</h1>
          <p>
            <ul>
              <li class="fragment"><a href="https://vuejs.org/">Vue.js</a></li>
              <li class="fragment"><a href="https://github.com/vuejs/vue-resource">Vue Resource</a></li>
              <li class="fragment"><a href="https://github.com/vuejs/vue-router">Vue Router</a></li>
              <li class="fragment"><a href="https://github.com/vuejs/vuex">Vuex</a></li>
              <li class="fragment"><a href="https://leanpub.com/book_search?search=vue">Vue Books On Leanpub</a></li>
              <li class="fragment"><a href="https://laracasts.com/series/learning-vue-step-by-step">Vue Series On Laracasts</a></li>
              <li class="fragment"><a href="https://webpack.github.io/">Webpack</a></li>
              <li class="fragment"><a href=""></a></li>
              <li class="fragment"><a href=""></a></li>
            </ul>
          </p>
        </section>
      </div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>
     // More info https://github.com/hakimel/reveal.js#configuration
     Reveal.initialize({
       history: true,

       // More info https://github.com/hakimel/reveal.js#dependencies
       dependencies: [
	 { src: 'plugin/markdown/marked.js' },
	 { src: 'plugin/markdown/markdown.js' },
	 { src: 'plugin/notes/notes.js', async: true },
	 { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
       ]
     });
    </script>
  </body>
</html>
